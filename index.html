<!DOCTYPE html>
<html>
    <head>
        <!-- Meta -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-title" content="BeerBuds">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="img/icon.png"/>

        <!--Firebase-->
        <script src="https://www.gstatic.com/firebasejs/3.9.0/firebase.js"></script>
        <script src="https://www.gstatic.com/firebasejs/3.9.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/3.9.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/3.9.0/firebase-database.js"></script>


        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.amber-indigo.min.css">

        <!-- Scripts -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
        <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
        <script src="https://npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>

        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
        
        <!-- Fonts -->
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">
    </head>
    <body>
        <div class="header" id="flex" class="col-12" style="margin-top:30px;">
            <h1><i class="fa fa-beer fa-2x"></i> BeerBuds</h1>
        </div>
        <div class="container">
            <div class id="page1">
            <div class="containerDiv">
                    <div class="page-content">
                        <div class="page">
                            <p id="beerbudsIntro">Have you ever wanted to drink but all of your friends want to have a sober and boring day? Don't fear, there is more people in the town who wants to drink and they want YOU to join them for a son of a bitch or two.</p>
                            <div id="welcomeBack" style="text-align:center;">Welcome back to BeerBuds! Logged in as: 
                            <div id="profilePic" style="display:none; margin:20px;"></div></div> <b><div id="Name" style="text-align:center;"></div></b>

                        </div>
                    </div>
                
                <div id="flex">
                <div class="googleSignIn" id="googleSignIn" style="display:block">
                        <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="createID();googleSignin();">Sign In With Google</button>
                    </div>

                    <div id="profile" style="display: none">
                        <div id="page1" style="font-family: 'Avenir Next';">
                            <button id="btnLogout" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" style="display:none">Log out</button>
                        </div>
                    </div>
                </div>
            </div>

            </div>
            <div id="page2" style="display: none">
                <div class="col-12" style="margin-top: 40px; margin-bottom: 40px">
                    <h2 style="text-align: center;">PEOPLE HUNGRY FOR BEER</h2>
                </div>

                <div class="col-12" id="activeUsers">
                    <!-- Följande HTML ska genereras dynamiskt av datan som folk sänder -->

                </div>
                </div>

            <div id="page3" style="display: none">
                <h1>Map</h1>
                <div id="map">
                    <div id="marker">
                    <button id="beer" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent clickme">I want beer!</button>
                    </div>
                </div>
                </br><p class="containerDiv">Click the "I Want Beer" button to declare that you're thirsty for some good old brewski. You can then set the google maps marker to a place where you want to grab a beer (it will default to your current location). Other users can then see where you want to grab a beer.</p>
            </div>

            <div class="containerDiv" id="page4" style="display: none">
                </br><h1>Settings</h1>
                <div id="settings">
                    <!--Input name-->
                    </br><input id = "nameInput" class="mdl-textfield__input" placeholder = "Change Name"/> <button id = "submitNameBtn" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" style="display:block; margin-top:20px;" onclick="submitNameClick(); alertfunc()"">Submit Name</button>
                    <script> 
                    function alertfunc() {
                        alert("Name updated")
                    }
                    </script>

<!--                     </br><h3>Name: </h3> -->
                    </br></br><h4>Favorite beertype: </h4><div id="Beer1"></div>

                    <!--Input beer preference-->
                    </br></br><h4>Change your favorite beer</h4>
                    <input id="beer1Input" class="mdl-textfield__input" placeholder = "Favorite beer"/>
                    <button style="margin-bottom: 90px; display:block; margin-top:20px;" id="submitBeerBtn" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="submitBeerClick()">Submit Beers</button><br/>
                </div>

            <div class="containerDiv" id="page5" style="display: none">
                </br><h1>Please set some profile data before you continue to the application.</h1>
                </br><input id="firstNameInput" class="mdl-textfield__input" placeholder = "Set Name"/>
                </br><input id="firstBeerInput" class="mdl-textfield__input" placeholder = "Set Beer"/> 
                <div style="display:none;" id="errorMess">You have to fill in both name and favorite beer.</div>
                <button id = "submitInfoBtn" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" style="display:block" onclick="submitInfoClick();">Submit Info</button>
            </div>
            <div id="page6" style="display:none">
                <h1>Map</h1>
                <div id="map_p6">
                </div>
            </div>
    </div>

    <div id="navbar">
        <div style="border-right: solid; border-color: #ebebeb;" class="col-3">
            <a class="navBtn" targetpage="page1"><i class="fa fa-home fa-2x"></i></a>
        </div>
        <div style="border-right: solid; border-color: #ebebeb;" class="col-3">
            <a class="navBtn" targetpage="page2" onclick="populateFeed()"><i class="fa fa-feed fa-2x"></i></a>
        </div>
        <div style="border-right: solid; border-color: #ebebeb;" class="col-3">
            <a id="js-show-map" class="navBtn" targetpage="page3"><i class="fa fa-map fa-2x"></i></a>
        </div>
        <div class="col-3">
            <a class="navBtn" targetpage="page4"><i class="fa fa-cog fa-2x"></i></a>
        </div>
    </div>

    <script>  

    $(document).ready(function() {
        //listen to shake event
        var shakeEvent = new Shake({threshold: 15});
        shakeEvent.start();

        $('.clickme').click(function(event) {
            /* Act on the event */
            var audio = new Audio('Soda.mp3');
            audio.play();

            window.addEventListener('shake', function(){
                audio.play();
            }, false);
        });;

        //stop listening
        function stopShake(){
            shakeEvent.stop();
        }
    });

    //check if shake is supported or not.
    if(!("ondevicemotion" in window)){alert("Shake Recognition Not Supported");}
</script>

    <script src="js/firebase.js"></script>
    <script src="js/main.js"></script> 
    <script src="js/map.js"></script>
    <script src="js/newsfeed.js"></script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCn2-5FWdpedj1ktxvGM76HqCySwBUPOpI&callback=initMap"
async defer></script>   

<script type="text/javascript" src="https://cdn.rawgit.com/alexgibson/shake.js/master/shake.js"></script>

</body>   
</html>
